
defaults:
  extends: Component
  import:
    - component.dart
    - room.dart
components:
  thermometer:
    extends: Sensor
    init_vars:
      name: Termômetro
      measurementName: Temperatura    
    ro:
      - name: last_value
        type: double
    rw:
      - name: low_temperature_limit
        type: int

      - name: high_temperature_limit
        type: int
  
  hygrometer:
    extends: Sensor
    init_vars:
      name: Higrômetro
      measurementName: Umidade
    ro:
      - name: last_value
        type: double
    rw:
      - name: low_humidity_limit
        type: int

      - name: high_humidity_limit
        type: int

  light_sensor:
    extends: Sensor
    init_vars:
      name: Sensor de luminosidade
      measurementName: Iluminação
    ro:
      - name: intensity
        type: int
    rw:
      - name: min_intensity_day_alert
        type: int

      - name: max_intensity_night_alert
        type: int

  daytime:
    init_vars:
      name: Fotoperíodo
    ro:
      - name: is_daytime
        type: bool
    rw:
      - name: start_hour
        type: int

      - name: duration
        type: int

      - name: start_delay
        type: int

  ebbflow:
    init_vars:
      name: Irrigação ebbflow
    ro:
      - name: is_empty
        type: bool

      - name: is_full
        type: bool

      - name: last_empty
        type: int
        
      - name: last_drain
        type: int

      - name: last_flood
        type: int

      - name: last_full
        type: int

    rw:
      - name: phase
        type: int
        
      - name: flood_automation
        type: bool

      - name: min_empty_seconds
        type: int

      - name: min_drain_seconds
        type: int

      - name: max_drain_minutes
        type: int

      - name: max_flood_minutes
        type: int

      - name: min_full_seconds
        type: int

      - name: max_full_seconds
        type: int

      - name: max_unfull_minutes
        type: int

      - name: day_interval
        type: int

      - name: night_interval
        type: int

  relay:
    ro:
      - name: last_on
        type: int

      - name: last_off
        type: int
    rw:
      - name: power
        type: bool

      - name: automation
        type: bool
        
      - name: cooldown_duration
        type: int

  threshold_relay:
    import:
      - component/relay.g.dart
    extends: Relay
    rw:
      - name: deactivation_threshold
        type: int
        
      - name: activation_threshold
        type: int
  
  ebbflow_flood:
    import:
      - component/relay.g.dart
    extends: Relay
    init_vars:
      name: Ebbflow flood

